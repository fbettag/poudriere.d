From f200dc00a2dd2087223703f78a5bbe3be0aeded5 Mon Sep 17 00:00:00 2001
From: Johan Schuijt-Li <johan@300.nl>
Date: Thu, 5 Feb 2015 20:04:44 +0100
Subject: [PATCH] Disable SSL Compression

---
 src/Csocket.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git src/Csocket.cpp src/Csocket.cpp
index aaa68b5..88c748b 100644
--- src/Csocket.cpp
+++ src/Csocket.cpp
@@ -555,6 +555,7 @@ bool InitSSL( ECompType eCompressionType )
 	}
 #endif /* _WIN32 */
 
+#ifdef ENABLE_COMPRESSION_ZNC
 	COMP_METHOD *cm = NULL;
 
 	if( CT_ZLIB & eCompressionType )
@@ -570,6 +571,7 @@ bool InitSSL( ECompType eCompressionType )
 		if( cm )
 			SSL_COMP_add_compression_method( CT_RLE, cm );
 	}
+#endif /* ENABLE_COMPRESSION_ZNC */
 
 	// setting this up once in the begining
 	g_iCsockSSLIdx = SSL_get_ex_new_index( 0, ( void * )"CsockGlobalIndex", NULL, NULL, NULL );
-- 
2.2.2

