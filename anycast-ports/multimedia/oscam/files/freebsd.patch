patch from https://github.com/beam/oscam

diff --git a/Makefile.extra b/Makefile.extra
index d1e2562..72fd0a3 100644
--- a/Makefile.extra
+++ b/Makefile.extra
@@ -4,7 +4,6 @@ i386-pc-freebsd: simple
 hppa1.1-hp-hpux10.20: simple
 alpha-dec-osf5.1: simple
 linux: simple
-freebsd: simple
 tuxbox: cross-powerpc-tuxbox-linux
 tripledragon: cross-powerpc-405-linux
 win: cross-i386-pc-cygwin
@@ -19,6 +18,9 @@ i386-pc-linux-pcsc: pcsc
 i386-pc-linux-pcsc-libusb: pcsc-libusb
 libusb-pcsc: pcsc-libusb
 
+freebsd:
+	$(MAKE) USE_LIBUSB=1 USE_LIBCRYPTO=1 CONF_DIR=/usr/local/etc/oscam LIBUSB_LIB=-lusb $(MAKEFLAGS)
+
 libusb:
 	$(MAKE) --no-print-directory \
 		USE_LIBUSB=1 \
diff --git a/config.h b/config.h
index 6484429..f092b9f 100644
--- a/config.h
+++ b/config.h
@@ -7,7 +7,7 @@
 #define TOUCH 1
 //#define WITH_SSL 1
 #if defined(__linux__) || defined(__CYGWIN__)
-#define HAVE_DVBAPI 1
+//#define HAVE_DVBAPI 1
 #endif
 #define READ_SDT_CHARSETS 1
 #define CLOCKFIX 1
@@ -23,18 +23,18 @@
 #define MODULE_MONITOR 1
 
 //#define MODULE_CAMD33 1
-#define MODULE_CAMD35 1
-#define MODULE_CAMD35_TCP 1
+//#define MODULE_CAMD35 1
+//#define MODULE_CAMD35_TCP 1
 #define MODULE_NEWCAMD 1
 #define MODULE_CCCAM 1
 #define MODULE_CCCSHARE 1
-#define MODULE_GBOX 1
-#define MODULE_RADEGAST 1
-#define MODULE_SERIAL 1
+//#define MODULE_GBOX 1
+//#define MODULE_RADEGAST 1
+//#define MODULE_SERIAL 1
 #define MODULE_CONSTCW 1
-#define MODULE_PANDORA 1
-#define MODULE_GHTTP 1
-#define MODULE_SCAM 1
+//#define MODULE_PANDORA 1
+//#define MODULE_GHTTP 1
+//#define MODULE_SCAM 1
 
 #define WITH_CARDREADER 1
 
diff --git a/globals.h b/globals.h
index 14403a2..9c8a4df 100644
--- a/globals.h
+++ b/globals.h
@@ -124,6 +124,18 @@ typedef unsigned char uchar;
 #define DEFAULT_AF AF_INET
 #endif
 
+#ifdef IPV6SUPPORT
+#if !defined s6_addr32 && defined __sun__
+#	define s6_addr32 _S6_un._S6_u32
+#elif !defined s6_addr32 && ( defined __OpenBSD__ || defined __FreeBSD__ ) 
+#	define s6_addr32 __u6_addr.__u6_addr32
+#endif	/* !defined s6_addr32 */
+#endif
+
+#ifndef SOL_TCP
+# define SOL_TCP IPPROTO_TCP
+#endif
+
 #ifndef NO_ENDIAN_H
 #if defined(__APPLE__)
 #include <machine/endian.h>
